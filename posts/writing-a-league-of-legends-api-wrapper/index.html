<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Writing a League of Legends API Wrapper - bchoy.me</title><meta name="Description" content="bchoy.me"><meta property="og:title" content="Writing a League of Legends API Wrapper" />
<meta property="og:description" content="League of Legends used to be one of my favorite games. One of my practice Rails sites is a LoL stats tracker that lets you look up play stats from RiotGame&rsquo;s API. Rather than use a gem that does all the work for me, I wrote my own wrapper to practice making my own API calls." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchoy.me/posts/writing-a-league-of-legends-api-wrapper/" /><meta property="og:image" content="https://bchoy.me/posts/writing-a-league-of-legends-api-wrapper/featured-image.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2015-04-13T21:19:02+00:00" />
<meta property="article:modified_time" content="2023-01-12T00:29:57-08:00" /><meta property="og:site_name" content="bchoy.me" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://bchoy.me/posts/writing-a-league-of-legends-api-wrapper/featured-image.png"/>
<meta name="twitter:title" content="Writing a League of Legends API Wrapper"/>
<meta name="twitter:description" content="League of Legends used to be one of my favorite games. One of my practice Rails sites is a LoL stats tracker that lets you look up play stats from RiotGame&rsquo;s API. Rather than use a gem that does all the work for me, I wrote my own wrapper to practice making my own API calls."/>
<meta name="application-name" content="My cool site">
<meta name="apple-mobile-web-app-title" content="My cool site"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://bchoy.me/posts/writing-a-league-of-legends-api-wrapper/" /><link rel="prev" href="https://bchoy.me/posts/iterm2-keyboard-shortcuts/" /><link rel="next" href="https://bchoy.me/posts/playing-with-friends-on-agario/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Writing a League of Legends API Wrapper",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/bchoy.me\/posts\/writing-a-league-of-legends-api-wrapper\/"
        },"image": [{
                            "@type": "ImageObject",
                            "url": "https:\/\/bchoy.me\/posts\/writing-a-league-of-legends-api-wrapper\/featured-image.png",
                            "width":  1808 ,
                            "height":  962 
                        }],"genre": "posts","wordcount":  242 ,
        "url": "https:\/\/bchoy.me\/posts\/writing-a-league-of-legends-api-wrapper\/","datePublished": "2015-04-13T21:19:02+00:00","dateModified": "2023-01-12T00:29:57-08:00","license": "bchoy.me","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "Brian Choy"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('light' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'light' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="bchoy.me">bchoy.me</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Blog </a><a class="menu-item" href="/about"> About </a><a class="menu-item" href="/resume"> Resume </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="bchoy.me">bchoy.me</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="">Blog</a><a class="menu-item" href="/about" title="">About</a><a class="menu-item" href="/resume" title="">Resume</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content always-active" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Writing a League of Legends API Wrapper</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://bchoy.me" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>Brian Choy</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="04-13-2015">04-13-2015</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;242 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;2 minutes&nbsp;</div>
        </div><div class="featured-image"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/writing-a-league-of-legends-api-wrapper/featured-image.png"
        data-srcset="/posts/writing-a-league-of-legends-api-wrapper/featured-image.png, /posts/writing-a-league-of-legends-api-wrapper/featured-image.png 1.5x, /posts/writing-a-league-of-legends-api-wrapper/featured-image.png 2x"
        data-sizes="auto"
        alt="/posts/writing-a-league-of-legends-api-wrapper/featured-image.png"
        title="/posts/writing-a-league-of-legends-api-wrapper/featured-image.png" /></div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents"></nav></div>
            </div><div class="content" id="content"><p>League of Legends used to be one of my favorite games. One of my practice Rails sites is a LoL stats tracker that lets you look up play stats from <a href="https://developer.riotgames.com/api/methods" target="_blank" rel="noopener noreffer ">RiotGame&rsquo;s API</a>. Rather than use a gem that does all the work for me, I wrote my own wrapper to practice making my own API calls.</p>
<figure><a class="lightgallery" href="/posts/writing-a-league-of-legends-api-wrapper/images/player-data-raw.png" title="/posts/writing-a-league-of-legends-api-wrapper/images/player-data-raw.png" data-thumbnail="/posts/writing-a-league-of-legends-api-wrapper/images/player-data-raw.png" data-sub-html="<h2>Raw Player Data Output</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/posts/writing-a-league-of-legends-api-wrapper/images/player-data-raw.png"
            data-srcset="/posts/writing-a-league-of-legends-api-wrapper/images/player-data-raw.png, /posts/writing-a-league-of-legends-api-wrapper/images/player-data-raw.png 1.5x, /posts/writing-a-league-of-legends-api-wrapper/images/player-data-raw.png 2x"
            data-sizes="auto"
            alt="/posts/writing-a-league-of-legends-api-wrapper/images/player-data-raw.png" width="1234" height="962" />
    </a><figcaption class="image-caption">Raw Player Data Output</figcaption>
    </figure>
<p>The process was fairly simple. I initialized my LeagueWrapper object with my API key that&rsquo;s stored in Rails secrets.yml. This will refer to the league_api_key variable I have in my secrets.yml.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ruby" data-lang="ruby"><span class="line"><span class="cl"><span class="ss">development</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="ss">league_api_key</span><span class="p">:</span>
</span></span></code></pre></div><p>Next I follow Riot&rsquo;s documentation on how to make API calls and use net/http to return the results. And voila! We now have data returned from Riot that we can muck around with and manipulate. I now have retrieved the summoner ID from my friend&rsquo;s username, Killerbill, and got data from his recent matches. By decoding the JSON retrieved, we can clearly see the data needed to manipulate.</p>
<p><figure><a class="lightgallery" href="/posts/writing-a-league-of-legends-api-wrapper/images/match-history.png" title="/posts/writing-a-league-of-legends-api-wrapper/images/match-history.png" data-thumbnail="/posts/writing-a-league-of-legends-api-wrapper/images/match-history.png" data-sub-html="<h2>Match History</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/posts/writing-a-league-of-legends-api-wrapper/images/match-history.png"
            data-srcset="/posts/writing-a-league-of-legends-api-wrapper/images/match-history.png, /posts/writing-a-league-of-legends-api-wrapper/images/match-history.png 1.5x, /posts/writing-a-league-of-legends-api-wrapper/images/match-history.png 2x"
            data-sizes="auto"
            alt="/posts/writing-a-league-of-legends-api-wrapper/images/match-history.png" width="1234" height="962" />
    </a><figcaption class="image-caption">Match History</figcaption>
    </figure>
<figure><a class="lightgallery" href="/posts/writing-a-league-of-legends-api-wrapper/images/match-history-json.png" title="/posts/writing-a-league-of-legends-api-wrapper/images/match-history-json.png" data-thumbnail="/posts/writing-a-league-of-legends-api-wrapper/images/match-history-json.png" data-sub-html="<h2>Match History JSON</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/posts/writing-a-league-of-legends-api-wrapper/images/match-history-json.png"
            data-srcset="/posts/writing-a-league-of-legends-api-wrapper/images/match-history-json.png, /posts/writing-a-league-of-legends-api-wrapper/images/match-history-json.png 1.5x, /posts/writing-a-league-of-legends-api-wrapper/images/match-history-json.png 2x"
            data-sizes="auto"
            alt="/posts/writing-a-league-of-legends-api-wrapper/images/match-history-json.png" width="1240" height="1062" />
    </a><figcaption class="image-caption">Match History JSON</figcaption>
    </figure></p>
<p>From using that data, in my models I can pick out the information I need and save it to my database:</p>
<figure><a class="lightgallery" href="/posts/writing-a-league-of-legends-api-wrapper/images/match-history.png" title="/posts/writing-a-league-of-legends-api-wrapper/images/match-history.png" data-thumbnail="/posts/writing-a-league-of-legends-api-wrapper/images/match-history.png" data-sub-html="<h2>Save to Database Code</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/posts/writing-a-league-of-legends-api-wrapper/images/match-history.png"
            data-srcset="/posts/writing-a-league-of-legends-api-wrapper/images/match-history.png, /posts/writing-a-league-of-legends-api-wrapper/images/match-history.png 1.5x, /posts/writing-a-league-of-legends-api-wrapper/images/match-history.png 2x"
            data-sizes="auto"
            alt="/posts/writing-a-league-of-legends-api-wrapper/images/match-history.png" width="1234" height="962" />
    </a><figcaption class="image-caption">Save to Database Code</figcaption>
    </figure>
<p>This allows me to store stats such as KDA, or something more interesting such as average gold per game at various times in the game, or performance across multiple game modes.</p>
<figure><a class="lightgallery" href="/posts/writing-a-league-of-legends-api-wrapper/images/match-history-parsed.png" title="/posts/writing-a-league-of-legends-api-wrapper/images/match-history-parsed.png" data-thumbnail="/posts/writing-a-league-of-legends-api-wrapper/images/match-history-parsed.png" data-sub-html="<h2>Parsed Match History</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/posts/writing-a-league-of-legends-api-wrapper/images/match-history-parsed.png"
            data-srcset="/posts/writing-a-league-of-legends-api-wrapper/images/match-history-parsed.png, /posts/writing-a-league-of-legends-api-wrapper/images/match-history-parsed.png 1.5x, /posts/writing-a-league-of-legends-api-wrapper/images/match-history-parsed.png 2x"
            data-sizes="auto"
            alt="/posts/writing-a-league-of-legends-api-wrapper/images/match-history-parsed.png" width="1232" height="720" />
    </a><figcaption class="image-caption">Parsed Match History</figcaption>
    </figure>
<p>And there you have it, a simple way to use Riot&rsquo;s League of Legends API with Rails.</p></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 01-12-2023&nbsp;<a class="git-hash" href="https://github.com/bycEEE/bycEEE.github.io//commit/ab44d31d2f77368727e97f55ac9ad08617abc5c7" target="_blank" title="commit by Brian Choy(bycEEE@gmail.com) ab44d31d2f77368727e97f55ac9ad08617abc5c7: Redo site, add blog post, add loveit theme">
                                    <i class="fas fa-hashtag fa-fw" aria-hidden="true"></i>ab44d31</a></span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/iterm2-keyboard-shortcuts/" class="prev" rel="prev" title="iTerm2 Keyboard Shortcuts"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>iTerm2 Keyboard Shortcuts</a>
            <a href="/posts/playing-with-friends-on-agario/" class="next" rel="next" title="Playing With Friends on Agar.io">Playing With Friends on Agar.io<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2015 - 2023</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://bchoy.me" target="_blank">Brian Choy</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/css/lightgallery-bundle.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/lightgallery.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/thumbnail/lg-thumbnail.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/zoom/lg-zoom.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/copy-tex.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/mhchem.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{},"lightgallery":true,"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":true,"left":"\\begin{equation}","right":"\\end{equation}"},{"display":true,"left":"\\begin{equation*}","right":"\\end{equation*}"},{"display":true,"left":"\\begin{align}","right":"\\end{align}"},{"display":true,"left":"\\begin{align*}","right":"\\end{align*}"},{"display":true,"left":"\\begin{alignat}","right":"\\end{alignat}"},{"display":true,"left":"\\begin{alignat*}","right":"\\end{alignat*}"},{"display":true,"left":"\\begin{gather}","right":"\\end{gather}"},{"display":true,"left":"\\begin{CD}","right":"\\end{CD}"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"lunr"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
