<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Visual Data of a Relationship Over a Year - bchoy.me</title><meta name="Description" content="bchoy.me"><meta property="og:title" content="Visual Data of a Relationship Over a Year" />
<meta property="og:description" content="My roommate and I were discussing about how we should create a webapp that tells you who is the better boyfriend/girlfriend in a relationship. This reminded me of a reddit post by /u/Prometheus09. Inspired by what he did with his Whatsapp data, I decided to do the same thing using my Skype logs.
My last relationship went from November 2013 to April 2015. Unfortunately my Skype logs start from March 2014, so I&rsquo;m missing about 4 months worth of data. Still, I had fun doing this and it gave me some insight into our relationship. Here is a relationship in 200,000&#43; messages over the course of 14 months worth of data.

        
    Messages by Month
    

        
    Messages by Hour
    " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchoy.me/posts/visual-data-of-a-relationship-over-a-year/" /><meta property="og:image" content="https://bchoy.me/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2015-05-20T21:43:43+00:00" />
<meta property="article:modified_time" content="2023-01-12T00:29:57-08:00" /><meta property="og:site_name" content="bchoy.me" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://bchoy.me/logo.png"/>

<meta name="twitter:title" content="Visual Data of a Relationship Over a Year"/>
<meta name="twitter:description" content="My roommate and I were discussing about how we should create a webapp that tells you who is the better boyfriend/girlfriend in a relationship. This reminded me of a reddit post by /u/Prometheus09. Inspired by what he did with his Whatsapp data, I decided to do the same thing using my Skype logs.
My last relationship went from November 2013 to April 2015. Unfortunately my Skype logs start from March 2014, so I&rsquo;m missing about 4 months worth of data. Still, I had fun doing this and it gave me some insight into our relationship. Here is a relationship in 200,000&#43; messages over the course of 14 months worth of data.

        
    Messages by Month
    

        
    Messages by Hour
    "/>
<meta name="application-name" content="My cool site">
<meta name="apple-mobile-web-app-title" content="My cool site"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://bchoy.me/posts/visual-data-of-a-relationship-over-a-year/" /><link rel="prev" href="https://bchoy.me/posts/playing-with-friends-on-agario/" /><link rel="next" href="https://bchoy.me/posts/deep-dream/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Visual Data of a Relationship Over a Year",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/bchoy.me\/posts\/visual-data-of-a-relationship-over-a-year\/"
        },"genre": "posts","wordcount":  932 ,
        "url": "https:\/\/bchoy.me\/posts\/visual-data-of-a-relationship-over-a-year\/","datePublished": "2015-05-20T21:43:43+00:00","dateModified": "2023-01-12T00:29:57-08:00","license": "bchoy.me","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "Brian Choy"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('light' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'light' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="bchoy.me">bchoy.me</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Blog </a><a class="menu-item" href="/about"> About </a><a class="menu-item" href="/resume"> Resume </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="bchoy.me">bchoy.me</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="">Blog</a><a class="menu-item" href="/about" title="">About</a><a class="menu-item" href="/resume" title="">Resume</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content always-active" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Visual Data of a Relationship Over a Year</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://bchoy.me" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>Brian Choy</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="05-20-2015">05-20-2015</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;932 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;5 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents"></nav></div>
            </div><div class="content" id="content"><p>My roommate and I were discussing about how we should create a webapp that tells you who is the better boyfriend/girlfriend in a relationship. This reminded me of a reddit post by <a href="https://www.reddit.com/r/dataisbeautiful/comments/36d3dd/word_cloud_of_100000_messages_from_a_long/" target="_blank" rel="noopener noreffer ">/u/Prometheus09</a>. Inspired by what he did with his Whatsapp data, I decided to do the same thing using my Skype logs.</p>
<p>My last relationship went from November 2013 to April 2015. Unfortunately my Skype logs start from March 2014, so I&rsquo;m missing about 4 months worth of data. Still, I had fun doing this and it gave me some insight into our relationship. Here is a relationship in 200,000+ messages over the course of 14 months worth of data.</p>
<p><figure><a class="lightgallery" href="/posts/visual-data-of-a-relationship-over-a-year/images/messages-by-month.png" title="/posts/visual-data-of-a-relationship-over-a-year/images/messages-by-month.png" data-thumbnail="/posts/visual-data-of-a-relationship-over-a-year/images/messages-by-month.png" data-sub-html="<h2>Messages by Month</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/posts/visual-data-of-a-relationship-over-a-year/images/messages-by-month.png"
            data-srcset="/posts/visual-data-of-a-relationship-over-a-year/images/messages-by-month.png, /posts/visual-data-of-a-relationship-over-a-year/images/messages-by-month.png 1.5x, /posts/visual-data-of-a-relationship-over-a-year/images/messages-by-month.png 2x"
            data-sizes="auto"
            alt="/posts/visual-data-of-a-relationship-over-a-year/images/messages-by-month.png" width="709" height="571" />
    </a><figcaption class="image-caption">Messages by Month</figcaption>
    </figure>
<figure><a class="lightgallery" href="/posts/visual-data-of-a-relationship-over-a-year/images/messages-by-hour.png" title="/posts/visual-data-of-a-relationship-over-a-year/images/messages-by-hour.png" data-thumbnail="/posts/visual-data-of-a-relationship-over-a-year/images/messages-by-hour.png" data-sub-html="<h2>Messages by Hour</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/posts/visual-data-of-a-relationship-over-a-year/images/messages-by-hour.png"
            data-srcset="/posts/visual-data-of-a-relationship-over-a-year/images/messages-by-hour.png, /posts/visual-data-of-a-relationship-over-a-year/images/messages-by-hour.png 1.5x, /posts/visual-data-of-a-relationship-over-a-year/images/messages-by-hour.png 2x"
            data-sizes="auto"
            alt="/posts/visual-data-of-a-relationship-over-a-year/images/messages-by-hour.png" width="709" height="571" />
    </a><figcaption class="image-caption">Messages by Hour</figcaption>
    </figure></p>
<p>Since I don&rsquo;t have much experience with R, I can&rsquo;t figure out how to organize the months properly. I&rsquo;ll fix it another day. From these graphs, our Skype conversations are very limited in the winter, going up in the spring, and we talk the most during summer. We also prefer to chat late night from 9PM - 1AM.</p>
<p><figure><a class="lightgallery" href="/posts/visual-data-of-a-relationship-over-a-year/images/my-cloud.png" title="/posts/visual-data-of-a-relationship-over-a-year/images/my-cloud.png" data-thumbnail="/posts/visual-data-of-a-relationship-over-a-year/images/my-cloud.png" data-sub-html="<h2>Words I Said Most to Her</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/posts/visual-data-of-a-relationship-over-a-year/images/my-cloud.png"
            data-srcset="/posts/visual-data-of-a-relationship-over-a-year/images/my-cloud.png, /posts/visual-data-of-a-relationship-over-a-year/images/my-cloud.png 1.5x, /posts/visual-data-of-a-relationship-over-a-year/images/my-cloud.png 2x"
            data-sizes="auto"
            alt="/posts/visual-data-of-a-relationship-over-a-year/images/my-cloud.png" width="654" height="469" />
    </a><figcaption class="image-caption">Words I Said Most to Her</figcaption>
    </figure>
<figure><a class="lightgallery" href="/posts/visual-data-of-a-relationship-over-a-year/images/her-cloud.png" title="/posts/visual-data-of-a-relationship-over-a-year/images/her-cloud.png" data-thumbnail="/posts/visual-data-of-a-relationship-over-a-year/images/her-cloud.png" data-sub-html="<h2>Words She Said Most to Me</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/posts/visual-data-of-a-relationship-over-a-year/images/her-cloud.png"
            data-srcset="/posts/visual-data-of-a-relationship-over-a-year/images/her-cloud.png, /posts/visual-data-of-a-relationship-over-a-year/images/her-cloud.png 1.5x, /posts/visual-data-of-a-relationship-over-a-year/images/her-cloud.png 2x"
            data-sizes="auto"
            alt="/posts/visual-data-of-a-relationship-over-a-year/images/her-cloud.png" width="654" height="469" />
    </a><figcaption class="image-caption">Words She Said Most to Me</figcaption>
    </figure>
<figure><a class="lightgallery" href="/posts/visual-data-of-a-relationship-over-a-year/images/our-cloud.png" title="/posts/visual-data-of-a-relationship-over-a-year/images/our-cloud.png" data-thumbnail="/posts/visual-data-of-a-relationship-over-a-year/images/our-cloud.png" data-sub-html="<h2>Words Most Said To Each Other</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/posts/visual-data-of-a-relationship-over-a-year/images/our-cloud.png"
            data-srcset="/posts/visual-data-of-a-relationship-over-a-year/images/our-cloud.png, /posts/visual-data-of-a-relationship-over-a-year/images/our-cloud.png 1.5x, /posts/visual-data-of-a-relationship-over-a-year/images/our-cloud.png 2x"
            data-sizes="auto"
            alt="/posts/visual-data-of-a-relationship-over-a-year/images/our-cloud.png" width="654" height="469" />
    </a><figcaption class="image-caption">Words Most Said To Each Other</figcaption>
    </figure></p>
<p>This was more interesting to me. First, &ldquo;lol&rdquo; and &ldquo;just&rdquo; were omitted because they dominated the cloud. Pronouns were also removed and words such as &ldquo;the.&rdquo; Unlike most relationships, the word &ldquo;love&rdquo; was hardly said. At least we got a good amount of &ldquo;like&rdquo; going on for us. My cloud has a lot more negative words associated such as &ldquo;can&rsquo;t&rdquo;, &ldquo;don&rsquo;t&rdquo;, &ldquo;sorry&rdquo;, and &ldquo;whatever.&rdquo; Her cloud has more positive words, and from our combined cloud, she says my name a lot more than I say hers.</p>
<p>At the moment, I don&rsquo;t really know what I think of this data. I&rsquo;m also missing Facebook messenger data and text messages. Also there&rsquo;s the time we spend together in person, which is the most important part of a relationship. I just thought it would be interesting to visually look at this data and look into a relationship from a technical perspective.</p>
<p>How was this data obtained? I used R for everything. R is a functional programming language that allows you to explore data sets. I used the ggplot package to create my graphs, tm - text mining package to count my words, and the wordcloud package to create the cloud image. I also used Ruby to clean my Skype logs.</p>
<p>First, I used a <a href="http://sourceforge.net/projects/skype-log-viewer/" target="_blank" rel="noopener noreffer ">Skype log viewer</a> to export my Skype logs since Skype&rsquo;s programming team decided storing conversations in regular .txt files wasn&rsquo;t a good idea.</p>
<blockquote>
<p>[1/18/2015 12:07:47 PM] Baby Tuna 🐟: My friends been waiting here an hour
[1/18/2015 12:08:05 PM] Brian Choy 🌊: wait at the q50?
[1/18/2015 12:08:09 PM] Baby Tuna 🐟: Yea
[1/18/2015 12:08:12 PM] Brian Choy 🌊: should i come get you
[1/18/2015 12:08:14 PM] Baby Tuna 🐟: No
[1/18/2015 12:08:21 PM] Baby Tuna 🐟: It&rsquo;s bad on the road</p>
</blockquote>
<p>Great. I now have my logs. Now I have to change all my names to Me/Her. Unfortunately there was no way around checking for every Skype nickname we used and changing all the sender names. I also erased the brackets around the date.</p>
<blockquote>
<p>1/18/2015 12:07:47 PM Her: My friends been waiting here an hour
1/18/2015 12:08:05 PM Me: wait at the q50?
1/18/2015 12:08:09 PM Her: Yea
1/18/2015 12:08:12 PM Me: should i come get you
1/18/2015 12:08:14 PM Her: No
1/18/2015 12:08:21 PM Her: It&rsquo;s bad on the road</p>
</blockquote>
<p>Now I&rsquo;m ready to import this data into Microsoft Excel and convert it to a CSV.</p>
<p><figure><a class="lightgallery" href="/posts/visual-data-of-a-relationship-over-a-year/images/import-delimited.jpeg" title="/posts/visual-data-of-a-relationship-over-a-year/images/import-delimited.jpeg" data-thumbnail="/posts/visual-data-of-a-relationship-over-a-year/images/import-delimited.jpeg" data-sub-html="<h2>Import With Delimited Setting</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/posts/visual-data-of-a-relationship-over-a-year/images/import-delimited.jpeg"
            data-srcset="/posts/visual-data-of-a-relationship-over-a-year/images/import-delimited.jpeg, /posts/visual-data-of-a-relationship-over-a-year/images/import-delimited.jpeg 1.5x, /posts/visual-data-of-a-relationship-over-a-year/images/import-delimited.jpeg 2x"
            data-sizes="auto"
            alt="/posts/visual-data-of-a-relationship-over-a-year/images/import-delimited.jpeg" width="629" height="485" />
    </a><figcaption class="image-caption">Import With Delimited Setting</figcaption>
    </figure>
<figure><a class="lightgallery" href="/posts/visual-data-of-a-relationship-over-a-year/images/import-space-separate.jpeg" title="/posts/visual-data-of-a-relationship-over-a-year/images/import-space-separate.jpeg" data-thumbnail="/posts/visual-data-of-a-relationship-over-a-year/images/import-space-separate.jpeg" data-sub-html="<h2>Separate by Space</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/posts/visual-data-of-a-relationship-over-a-year/images/import-space-separate.jpeg"
            data-srcset="/posts/visual-data-of-a-relationship-over-a-year/images/import-space-separate.jpeg, /posts/visual-data-of-a-relationship-over-a-year/images/import-space-separate.jpeg 1.5x, /posts/visual-data-of-a-relationship-over-a-year/images/import-space-separate.jpeg 2x"
            data-sizes="auto"
            alt="/posts/visual-data-of-a-relationship-over-a-year/images/import-space-separate.jpeg" width="597" height="453" />
    </a><figcaption class="image-caption">Separate by Space</figcaption>
    </figure>
<figure><a class="lightgallery" href="/posts/visual-data-of-a-relationship-over-a-year/images/import-date-format.jpeg" title="/posts/visual-data-of-a-relationship-over-a-year/images/import-date-format.jpeg" data-thumbnail="/posts/visual-data-of-a-relationship-over-a-year/images/import-date-format.jpeg" data-sub-html="<h2>Date Format: General</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/posts/visual-data-of-a-relationship-over-a-year/images/import-date-format.jpeg"
            data-srcset="/posts/visual-data-of-a-relationship-over-a-year/images/import-date-format.jpeg, /posts/visual-data-of-a-relationship-over-a-year/images/import-date-format.jpeg 1.5x, /posts/visual-data-of-a-relationship-over-a-year/images/import-date-format.jpeg 2x"
            data-sizes="auto"
            alt="/posts/visual-data-of-a-relationship-over-a-year/images/import-date-format.jpeg" width="597" height="453" />
    </a><figcaption class="image-caption">Date Format: General</figcaption>
    </figure>
<figure><a class="lightgallery" href="/posts/visual-data-of-a-relationship-over-a-year/images/imported-data.jpeg" title="/posts/visual-data-of-a-relationship-over-a-year/images/imported-data.jpeg" data-thumbnail="/posts/visual-data-of-a-relationship-over-a-year/images/imported-data.jpeg" data-sub-html="<h2>Data Imported</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/posts/visual-data-of-a-relationship-over-a-year/images/imported-data.jpeg"
            data-srcset="/posts/visual-data-of-a-relationship-over-a-year/images/imported-data.jpeg, /posts/visual-data-of-a-relationship-over-a-year/images/imported-data.jpeg 1.5x, /posts/visual-data-of-a-relationship-over-a-year/images/imported-data.jpeg 2x"
            data-sizes="auto"
            alt="/posts/visual-data-of-a-relationship-over-a-year/images/imported-data.jpeg" width="1565" height="787" />
    </a><figcaption class="image-caption">Data Imported</figcaption>
    </figure>
<figure><a class="lightgallery" href="/posts/visual-data-of-a-relationship-over-a-year/images/clean-up-conversations.jpeg" title="/posts/visual-data-of-a-relationship-over-a-year/images/clean-up-conversations.jpeg" data-thumbnail="/posts/visual-data-of-a-relationship-over-a-year/images/clean-up-conversations.jpeg" data-sub-html="<h2>Clean up all Conversations</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/posts/visual-data-of-a-relationship-over-a-year/images/clean-up-conversations.jpeg"
            data-srcset="/posts/visual-data-of-a-relationship-over-a-year/images/clean-up-conversations.jpeg, /posts/visual-data-of-a-relationship-over-a-year/images/clean-up-conversations.jpeg 1.5x, /posts/visual-data-of-a-relationship-over-a-year/images/clean-up-conversations.jpeg 2x"
            data-sizes="auto"
            alt="/posts/visual-data-of-a-relationship-over-a-year/images/clean-up-conversations.jpeg" width="1545" height="767" />
    </a><figcaption class="image-caption">Clean up all Conversations</figcaption>
    </figure></p>
<p>Afterwards I add a row on the top indicating that each column represents date, time, morning, sender.</p>
<figure><a class="lightgallery" href="/posts/visual-data-of-a-relationship-over-a-year/images/row-organisation.jpeg" title="/posts/visual-data-of-a-relationship-over-a-year/images/row-organisation.jpeg" data-thumbnail="/posts/visual-data-of-a-relationship-over-a-year/images/row-organisation.jpeg" data-sub-html="<h2>Row Organisation</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/posts/visual-data-of-a-relationship-over-a-year/images/row-organisation.jpeg"
            data-srcset="/posts/visual-data-of-a-relationship-over-a-year/images/row-organisation.jpeg, /posts/visual-data-of-a-relationship-over-a-year/images/row-organisation.jpeg 1.5x, /posts/visual-data-of-a-relationship-over-a-year/images/row-organisation.jpeg 2x"
            data-sizes="auto"
            alt="/posts/visual-data-of-a-relationship-over-a-year/images/row-organisation.jpeg" width="346" height="106" />
    </a><figcaption class="image-caption">Row Organisation</figcaption>
    </figure>
<p>Unfortunately some &ldquo;corrupted&rdquo; data leaks into other rows. Multi-paragraph text and copy&amp;pasted conversations will result in garbage data. Rather than try to sift through all 200,000+ rows, I wrote a Ruby script to take care of this for me.</p>
<p><figure><a class="lightgallery" href="/posts/visual-data-of-a-relationship-over-a-year/images/corrupted-data.jpeg" title="/posts/visual-data-of-a-relationship-over-a-year/images/corrupted-data.jpeg" data-thumbnail="/posts/visual-data-of-a-relationship-over-a-year/images/corrupted-data.jpeg" data-sub-html="<h2>Corrupted Data</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/posts/visual-data-of-a-relationship-over-a-year/images/corrupted-data.jpeg"
            data-srcset="/posts/visual-data-of-a-relationship-over-a-year/images/corrupted-data.jpeg, /posts/visual-data-of-a-relationship-over-a-year/images/corrupted-data.jpeg 1.5x, /posts/visual-data-of-a-relationship-over-a-year/images/corrupted-data.jpeg 2x"
            data-sizes="auto"
            alt="/posts/visual-data-of-a-relationship-over-a-year/images/corrupted-data.jpeg" width="1545" height="767" />
    </a><figcaption class="image-caption">Corrupted Data</figcaption>
    </figure>
<figure><a class="lightgallery" href="/posts/visual-data-of-a-relationship-over-a-year/images/ruby-cleanup-script.png" title="/posts/visual-data-of-a-relationship-over-a-year/images/ruby-cleanup-script.png" data-thumbnail="/posts/visual-data-of-a-relationship-over-a-year/images/ruby-cleanup-script.png" data-sub-html="<h2>Ruby Cleanup Script</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/posts/visual-data-of-a-relationship-over-a-year/images/ruby-cleanup-script.png"
            data-srcset="/posts/visual-data-of-a-relationship-over-a-year/images/ruby-cleanup-script.png, /posts/visual-data-of-a-relationship-over-a-year/images/ruby-cleanup-script.png 1.5x, /posts/visual-data-of-a-relationship-over-a-year/images/ruby-cleanup-script.png 2x"
            data-sizes="auto"
            alt="/posts/visual-data-of-a-relationship-over-a-year/images/ruby-cleanup-script.png" width="1778" height="922" />
    </a><figcaption class="image-caption">Ruby Cleanup Script</figcaption>
    </figure></p>
<p>Here I verified each line to follow a valid format. If the row is valid, I write it to a new file.</p>
<p>Now I can open up R and plot out my data.</p>
<p>With the following code, I import my clean Skype CSV and plot my data for number of messages per sender in an hour.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">skype</span> <span class="o">&lt;-</span> <span class="nf">read.csv</span><span class="p">(</span><span class="s">&#34;C:/Users/icey/Documents/skype-clean.csv&#34;</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">head</span><span class="p">(</span><span class="n">skype</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="m">10</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">skype</span><span class="o">$</span><span class="n">iso</span> <span class="o">&lt;-</span> <span class="nf">paste</span><span class="p">(</span><span class="n">skype</span><span class="o">$</span><span class="n">date</span><span class="p">,</span> <span class="n">skype</span><span class="o">$</span><span class="n">time</span><span class="p">,</span> <span class="n">skype</span><span class="o">$</span><span class="n">morning</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#34; &#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">skype</span><span class="o">$</span><span class="n">iso</span> <span class="o">&lt;-</span> <span class="nf">strptime</span><span class="p">(</span><span class="n">skype</span><span class="o">$</span><span class="n">iso</span><span class="p">,</span> <span class="s">&#34;%m/%d/%Y %I:%M:%S %p&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">skype</span><span class="o">$</span><span class="n">month</span> <span class="o">&lt;-</span> <span class="nf">months</span><span class="p">(</span><span class="n">skype</span><span class="o">$</span><span class="n">iso</span><span class="p">,</span> <span class="n">abbreviate</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">skype</span><span class="o">$</span><span class="n">day</span> <span class="o">&lt;-</span> <span class="nf">weekdays</span><span class="p">(</span><span class="n">skype</span><span class="o">$</span><span class="n">iso</span><span class="p">,</span> <span class="n">abbreviate</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">skype</span><span class="o">$</span><span class="n">hour</span> <span class="o">&lt;-</span> <span class="nf">format</span><span class="p">(</span><span class="n">skype</span><span class="o">$</span><span class="n">iso</span><span class="p">,</span> <span class="s">&#34;%H&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">skype</span><span class="o">$</span><span class="n">date</span> <span class="o">&lt;-</span> <span class="nf">as.Date</span><span class="p">(</span><span class="nf">as.character</span><span class="p">(</span><span class="n">skype</span><span class="o">$</span><span class="n">date</span><span class="p">),</span> <span class="n">format</span> <span class="o">=</span> <span class="s">&#34;%m/%d/%y&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">skype</span><span class="p">,</span> <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">hour</span><span class="p">,</span> <span class="n">fill</span> <span class="o">=</span> <span class="n">sender</span><span class="p">))</span> <span class="o">+</span> <span class="nf">geom_histogram</span><span class="p">()</span>
</span></span></code></pre></div><figure><a class="lightgallery" href="/posts/visual-data-of-a-relationship-over-a-year/images/r-plot-hour.jpeg" title="/posts/visual-data-of-a-relationship-over-a-year/images/r-plot-hour.jpeg" data-thumbnail="/posts/visual-data-of-a-relationship-over-a-year/images/r-plot-hour.jpeg" data-sub-html="<h2>R Plot by Hours</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/posts/visual-data-of-a-relationship-over-a-year/images/r-plot-hour.jpeg"
            data-srcset="/posts/visual-data-of-a-relationship-over-a-year/images/r-plot-hour.jpeg, /posts/visual-data-of-a-relationship-over-a-year/images/r-plot-hour.jpeg 1.5x, /posts/visual-data-of-a-relationship-over-a-year/images/r-plot-hour.jpeg 2x"
            data-sizes="auto"
            alt="/posts/visual-data-of-a-relationship-over-a-year/images/r-plot-hour.jpeg" width="1448" height="775" />
    </a><figcaption class="image-caption">R Plot by Hours</figcaption>
    </figure>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">Plotting</span> <span class="n">messages</span> <span class="n">per</span> <span class="n">sender</span> <span class="n">per</span> <span class="n">month</span><span class="o">:</span>
</span></span><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">skype</span><span class="p">,</span> <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">month</span><span class="p">,</span> <span class="n">fill</span> <span class="o">=</span> <span class="n">sender</span><span class="p">))</span> <span class="o">+</span> <span class="nf">geom_histogram</span><span class="p">(</span><span class="n">position</span> <span class="o">=</span> <span class="s">&#39;dodge&#39;</span><span class="p">)</span>
</span></span></code></pre></div><figure><a class="lightgallery" href="/posts/visual-data-of-a-relationship-over-a-year/images/r-plot-month.jpeg" title="/posts/visual-data-of-a-relationship-over-a-year/images/r-plot-month.jpeg" data-thumbnail="/posts/visual-data-of-a-relationship-over-a-year/images/r-plot-month.jpeg" data-sub-html="<h2>R Plot by Month</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/posts/visual-data-of-a-relationship-over-a-year/images/r-plot-month.jpeg"
            data-srcset="/posts/visual-data-of-a-relationship-over-a-year/images/r-plot-month.jpeg, /posts/visual-data-of-a-relationship-over-a-year/images/r-plot-month.jpeg 1.5x, /posts/visual-data-of-a-relationship-over-a-year/images/r-plot-month.jpeg 2x"
            data-sizes="auto"
            alt="/posts/visual-data-of-a-relationship-over-a-year/images/r-plot-month.jpeg" width="1480" height="807" />
    </a><figcaption class="image-caption">R Plot by Month</figcaption>
    </figure>
<p>With more exposure to R, I&rsquo;m sure I can make a better visual representation, and be able to graph out more interesting information with the data I have. My attention is focused on Javascript right now, so I&rsquo;m not diving too deep into R at the moment.</p>
<p>Following <a href="https://georeferenced.wordpress.com/2013/01/15/rwordcloud/" target="_blank" rel="noopener noreffer ">this tutorial</a> made it easy to create the word graph. I cleaned up my original txt file with some Ruby code though to ensure accurate results.</p>
<figure><a class="lightgallery" href="/posts/visual-data-of-a-relationship-over-a-year/images/ruby-word-graph-clean-script.png" title="/posts/visual-data-of-a-relationship-over-a-year/images/ruby-word-graph-clean-script.png" data-thumbnail="/posts/visual-data-of-a-relationship-over-a-year/images/ruby-word-graph-clean-script.png" data-sub-html="<h2>Ruby Word Graph Cleanup Script</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/posts/visual-data-of-a-relationship-over-a-year/images/ruby-word-graph-clean-script.png"
            data-srcset="/posts/visual-data-of-a-relationship-over-a-year/images/ruby-word-graph-clean-script.png, /posts/visual-data-of-a-relationship-over-a-year/images/ruby-word-graph-clean-script.png 1.5x, /posts/visual-data-of-a-relationship-over-a-year/images/ruby-word-graph-clean-script.png 2x"
            data-sizes="auto"
            alt="/posts/visual-data-of-a-relationship-over-a-year/images/ruby-word-graph-clean-script.png" width="1186" height="452" />
    </a><figcaption class="image-caption">Ruby Word Graph Cleanup Script</figcaption>
    </figure>
<p>Bam, a word cloud is generated:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="s">&#34;wordcloud&#34;</span><span class="p">,</span> <span class="n">lib.loc</span><span class="o">=</span><span class="s">&#34;~/R/win-library/3.2&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="s">&#34;tm&#34;</span><span class="p">,</span> <span class="n">lib.loc</span><span class="o">=</span><span class="s">&#34;~/R/win-library/3.2&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="s">&#34;SnowballC&#34;</span><span class="p">,</span> <span class="n">lib.loc</span><span class="o">=</span><span class="s">&#34;~/R/win-library/3.2&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">lords</span> <span class="o">&lt;-</span> <span class="nf">Corpus </span><span class="p">(</span><span class="nf">DirSource</span><span class="p">(</span><span class="s">&#34;C:/Users/icey/Desktop/temp&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">lords</span> <span class="o">&lt;-</span> <span class="nf">tm_map</span><span class="p">(</span><span class="n">lords</span><span class="p">,</span> <span class="n">stripWhitespace</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">lords</span> <span class="o">&lt;-</span> <span class="nf">tm_map</span><span class="p">(</span><span class="n">lords</span><span class="p">,</span> <span class="nf">content_transformer</span><span class="p">(</span><span class="n">tolower</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">lords</span> <span class="o">&lt;-</span> <span class="nf">tm_map</span><span class="p">(</span><span class="n">lords</span><span class="p">,</span> <span class="n">removeWords</span><span class="p">,</span> <span class="nf">stopwords</span><span class="p">(</span><span class="s">&#34;english&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">lords</span> <span class="o">&lt;-</span> <span class="nf">tm_map</span><span class="p">(</span><span class="n">lords</span><span class="p">,</span> <span class="n">removeWords</span><span class="p">,</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;lol&#34;</span><span class="p">,</span> <span class="s">&#34;just&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="nf">wordcloud</span><span class="p">(</span><span class="n">lords</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="m">0.5</span><span class="p">),</span> <span class="n">max.words</span><span class="o">=</span><span class="m">150</span><span class="p">,</span> <span class="n">random.order</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">,</span> <span class="n">rot.per</span><span class="o">=</span><span class="m">0.35</span><span class="p">,</span> <span class="n">use.r.layout</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="nf">brewer.pal</span><span class="p">(</span><span class="m">8</span><span class="p">,</span> <span class="s">&#34;Dark2&#34;</span><span class="p">))</span>
</span></span></code></pre></div><figure><a class="lightgallery" href="/posts/visual-data-of-a-relationship-over-a-year/images/ruby-word-graph-clean-script.png" title="/posts/visual-data-of-a-relationship-over-a-year/images/ruby-word-graph-clean-script.png" data-thumbnail="/posts/visual-data-of-a-relationship-over-a-year/images/ruby-word-graph-clean-script.png" data-sub-html="<h2>Ruby Word Graph Cleanup Script</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/posts/visual-data-of-a-relationship-over-a-year/images/ruby-word-graph-clean-script.png"
            data-srcset="/posts/visual-data-of-a-relationship-over-a-year/images/ruby-word-graph-clean-script.png, /posts/visual-data-of-a-relationship-over-a-year/images/ruby-word-graph-clean-script.png 1.5x, /posts/visual-data-of-a-relationship-over-a-year/images/ruby-word-graph-clean-script.png 2x"
            data-sizes="auto"
            alt="/posts/visual-data-of-a-relationship-over-a-year/images/ruby-word-graph-clean-script.png" width="1186" height="452" />
    </a><figcaption class="image-caption">Ruby Word Graph Cleanup Script</figcaption>
    </figure></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 01-12-2023&nbsp;<a class="git-hash" href="https://github.com/bycEEE/bycEEE.github.io//commit/ab44d31d2f77368727e97f55ac9ad08617abc5c7" target="_blank" title="commit by Brian Choy(bycEEE@gmail.com) ab44d31d2f77368727e97f55ac9ad08617abc5c7: Redo site, add blog post, add loveit theme">
                                    <i class="fas fa-hashtag fa-fw" aria-hidden="true"></i>ab44d31</a></span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/playing-with-friends-on-agario/" class="prev" rel="prev" title="Playing With Friends on Agar.io"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>Playing With Friends on Agar.io</a>
            <a href="/posts/deep-dream/" class="next" rel="next" title="Deep Dream">Deep Dream<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2015 - 2023</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://bchoy.me" target="_blank">Brian Choy</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/css/lightgallery-bundle.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/lightgallery.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/thumbnail/lg-thumbnail.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/zoom/lg-zoom.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/copy-tex.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/mhchem.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{},"lightgallery":true,"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":true,"left":"\\begin{equation}","right":"\\end{equation}"},{"display":true,"left":"\\begin{equation*}","right":"\\end{equation*}"},{"display":true,"left":"\\begin{align}","right":"\\end{align}"},{"display":true,"left":"\\begin{align*}","right":"\\end{align*}"},{"display":true,"left":"\\begin{alignat}","right":"\\end{alignat}"},{"display":true,"left":"\\begin{alignat*}","right":"\\end{alignat*}"},{"display":true,"left":"\\begin{gather}","right":"\\end{gather}"},{"display":true,"left":"\\begin{CD}","right":"\\end{CD}"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"lunr"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
